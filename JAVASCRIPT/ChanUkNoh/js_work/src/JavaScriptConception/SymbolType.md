## Symbol Type

자바스크립트 객체 프로퍼티 키는 오직 문자형과 심볼형만을 허용한다. (숫자 프로퍼티는 실제로는 문자형임.)  
숫자형, 불린형 모두 불가능하고 오직 문자형 과 심볼형만 가능하다. 심볼형에 대해 알아보자.

### 심볼
심볼(symbol)은 유일한 식별자(unique identifier)를 만들고 싶을 때 사용한다.  
Symbol()을 사용해 심볼을 만들 수 있다.  
```javascript
let id = Symbol();
```
심볼을 만들 때 심볼 이름이라 불리는 설명(description)을 붙일 수도 있다.  
심볼 이름은 디버깅 시 아주 유용하다.  
```javascript
// id라는 심볼에는 "id"라는 설명이 붙는다.
let id = Symbol("id")
```
심볼은 유일성이 보장되는 자료형이기 때문에, 설명이 동일한 심볼을 여러 개 만들어도 각 심볼 값은 다르다.  
심볼에 붙이는 설명(심볼 이름)은 어떤 것에도 영향을 주지 않는 이름표 역할만을 한다.  
  
설명이 같은 심볼 두 개를 만들고 이를 비교해보자.
```javascript
let id1 = Symbol("id");
let id2 = Symbol("id");

console.log(id1 == id2); // false
```
***
(!)심볼은 문자형으로 자동 형 변환되지 않는다.

자바스크립트에선 문자형으로의 암시적 형 변환이 비교적 자유롭게 일어나는편이지만, 심볼은 예외이다.
심볼형 값은 다른 자료형으로 암시적 형 변환(자동 형 변환)이 되지 않는다.
```javascript
let id = Symbol("id")
alert(id) // TypeError: Cannot convert a Symbol value to a string
```
자바스크립트에선 언어 차원의 보호장치를 마련해 심볼형이 다른형으로 변환되지 않게 막아준다.  
심볼을 반드시 출력해야 하는 상황이라면 .toString()를 명시적으로 호출해주면 된다.  
symbol.description 프로퍼티를 이용하면 심볼 이름만 볼 수도 있다.  
***
### '숨김' 프로퍼티
심볼을 이용하면 숨김 프로퍼티를 만들 수 있다. 숨김 프로퍼티는 외부 코드에서 접근이 불가능하고 값도 덮어  
쓸 수 없는 프로퍼티이다. 외부 코드를 가져와 쓸 때 이 코드에서 프로퍼티를 추가하고 해야한다면 심볼을 사용해  
히든 프로퍼티를 만들어 추가하면 이 프로퍼티는 원본에서는 인식할 수 없다.  
혹은 원천 코드가 여러개의 외부 코드에서 사용 될 경우 각 코드마다 고유의 인식표를 줄 수 있다.  
서로의 식별자가 있어 각 코드가 충돌하는 것을 방지해준다.  
### Symbols in a Literal
객체 리터럴을 사용해 객체를 만든 경우, 대괄호를 사용해 심볼형 키를 만들어야 한다.
```javascript
let id = Symbol("id")

let user = {
    name: "John",
    [id]: 123 // "id": 123 은 안된다.
}
```
### 심볼은 for ... in 에서 배제된다.
키가 심볼인 프로퍼티는 for ... in 반복문에서 배제된다.  
심볼형 프로퍼티 숨기기라 불리는 원칙 덕분에 외부 스크립트나 라이브러리는 심볼형 키를 가진 프로퍼티에 접근하지 못한다.
```javascript
let id = Symbol("id")

let user = {
    name: "John",
    age: 30,
    [id]: 123
};

// name과 age만 출력된다.
for (let key in user) console.log(key)

// 직접호출만 가능
console.log(user[id]) 
```
그런데 Object.assign은 키가 심볼인 프로퍼티를 배제하지 않고 객체 내 모든 프로퍼티를 복사한다.  
객체를 복사하거나 병합할 때, 대게 심볼을 포함한 프로퍼티를 전부 사용하고 시펑 할 것이라는 생각에의한 설계이다.   
### 전역 심볼
앞서 살펴본 것처럼, 심볼은 이름이 같더라도 모두 별개로 취급된다.  
그런데 이름이 같은 심볼이 같은 개체를 가리키길 원하는 경우는 어떡해야 할까?  
Symbol.for(key)를 사용하면 그 문제를 해결할 수 있다.  
Symbol.for(key)를 사용하면 전역 심볼 레지스트리라는 특별한 저장공간이 생겨 해당 심볼에 접근하면,  
이름이 같은 경우 항상 동일한 심볼을 반환해준다.