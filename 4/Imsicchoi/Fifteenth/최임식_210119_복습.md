
#복습
-------------------------------------------------


네트워크는 여러 대의 컴퓨터를 통신 회선으로 연결한 것을 말한다.
만약 집에 방마다 컴퓨터가 있고, 
이를 유,무선 통신 회선으로 연결했다면 홈네트워크(Home Network)가 형성된 것이다.
지역 네트워크는 회사,건물,특정 영역에 존재하는 컴퓨터를 통신 회선으로 연결한 것을 말하고,
인터넷(Internet)은 지역 네트워크를 통신 회선으로 연결한 것을 말한다.

서버와 클라이언트
컴퓨터가 인터넷에 연결되어 있다면 실제로 데이터를 주고받는 행위는 프로그램들이 한다.
서비스를 제공하는 프로그램을 일반적으로 서버(Server)라고 부르고,
서비스를 받는 프로그램을 클라이언트(Client)라고 부른다.
인터넷에서 두 프로그램이 통신하기 위해서는 연결을 요청하는 역할과
연결을 수락하는 역할이 필요하다.
클라이언트는 서비스를 받기 위해 연결을 요청하고,
서버는 연결을 수락하여 서비스를 제공해준다.
서버는 클라이언트가 요청(Request)하는 내용을 처리해주고,
응답(Response)을 클라이언트로 보낸다.

IP 주소와 포트(Port)

모두들 집에 고유한 주소가 있듯이 컴퓨터에도 고유한 주소가 있다.
이것이 바로 IP(Internet Protocol)주소이다. IP 주소는 네트워크 어뎁터(LAN)마다 할당되는데.
한 개의 컴퓨터에 두 개의 네트워크 어댑터가 장착되어 있다면, 두 개의 IP주소를 할당할수 있다.
명령 프롬프트(cmd.exe)에서 C:\>ipconfig/all 으로 확인할 수 있다.
IP주소의 기본형태는 xxx.xxx.xxx.xxx같은 형식으로 표현된다.
여기서 xxx는 부호 없는 0~255사이의 정수이다.
연결할 상대방 컴퓨터의 IP주소를 모른다면 프로그램들은 통신을 할 수 없다.

IP는 컴퓨터읜 네트워크 어댑터까지만 갈 수 있는 정보이기 때문에 추가적인 정보가 필요하다.
이 정보가 포트(Port)번호이다. 서버는 시작할 때 고정적인 포트 번호를 가지고 실행하는데,
이것을 포트 바인딩(Binding)이라고 한다.
예를 들어 기본적으로 웹 서버는 80번과 바인딩하고,FTP 서버는 21번과 바인딩한다.
클라이언트가 웹 서버에 연결하려면 80번으로 연결 요청을 해야 하고,FTP 서버에 연결하려면
21번으로 연결 요청을 해야 한다.
클라이언트도 서버에서 보낸 정보를 받기 위해 포트 번호가 필요한데, 서버와 같이 
고정적인 포트번호가 아니라 운영체제가 자동으로 부여하는 동적 포트 번호를 사용한다.
이 동적 포트 번호는 클라이언트가 서버로 연결 요청을 할 때 전송되며 
서버가 클라이언트로 데이터를 보낼 때 사용된다.
포트 번호의 전체 범위는 0 ~ 65535이다.

로컬 컴퓨터의 InetAddress를 얻고 싶다면 InetAddress.getLocalHost()메소드를 호출하면 된다.

     InetAddress ia = InetAddress.getLocalHost();

외부 컴퓨터의 도메인 이름을 알고 있다면 다음 두 개의 메소드를 사용하여 InetAddress 객체를 얻으면 된다.

    InetAddress ia = InetAddres.getByName(String host);
    InetAddress[  ] iaArr = InetAddress.getAllByName(String host);



TCP 네트워킹
TCP( Trasmission Control Protocol)는 연결 지형적 프로토콜이다.
연결 지향 프로토콜이란 클라이언트와 서버가 연결된 상태에서 데이터를 주고받는 프로토콜을 말한다.
장점 : 데이터를 정확하고 안정적으로 전달한다.
단점:데이터를 주고받기 전 반드시 연결이 형성되어야 한다, 상황에 따라 상대적으로 UDP보다 느릴 수 있다.


ServerSocket과 Socket의 용도

TCP서버의 역할은 두 가지로 볼 수 있다. 하나는 클라이언트가 연결 요청을 해오면 연결을 수락하는 것이고,
다른 하나는 연결된 클라이언트와 통신하는 것이다.
서버는 클라이언트가 접속할 포트를 가지고 있어야 하는데, 이 포트를 바인딩포트라고 한다.
서버는 고정된 포트 번호에 바인딩해서 실행하므로, SeverSocket을 생성할 때 포트 번호 하나를 지정해야 된다.
  
    ServerSocket serverSocket = new ServerSocket(5001);

클라이언트가 연결 요청(connect())하고 서버가 연결 수락(accept())했다면, 양쪽의 Socket 객체로부터
각각 입력 스트림(InputStream)과 출력 스트림(OutputStream)을 얻을 수 있다.

    InputStream is = socket.getInputStream();

    OutputStream os = socket.getOutputStream();

